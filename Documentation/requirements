üìã REQUERIMIENTOS DEL SISTEMA DE REPORTES DE FUGAS Y MONITOREO DE TINACO
üß† 1. Descripci√≥n general

El sistema permitir√° monitorear el nivel de agua de un tinaco, detectar fugas y registrar reportes.
Los usuarios podr√°n acceder a un dashboard web interactivo donde visualizar√°n en tiempo real el estado del tinaco, estad√≠sticas de consumo y reportes activos.
Los datos ser√°n recolectados desde sensores (reales o simulados) y almacenados en MongoDB a trav√©s de una API REST construida con Node.js.
La interfaz del dashboard estar√° desarrollada en Angular con TailwindCSS para el dise√±o visual.

‚öôÔ∏è 2. Requerimientos funcionales (qu√© har√° el sistema)
2.1 Gesti√≥n de usuarios

RF1. El sistema debe permitir el registro de usuarios (nombre, correo, contrase√±a).

RF2. El sistema debe permitir el inicio de sesi√≥n usando autenticaci√≥n JWT.

RF3. El sistema debe permitir a los usuarios cerrar sesi√≥n y proteger rutas privadas del dashboard.

2.2 Monitoreo del tinaco

RF4. El sistema debe recibir datos del tinaco provenientes de sensores o simuladores (nivel, flujo, presi√≥n, fecha y hora).

RF5. El sistema debe almacenar los datos en MongoDB.

RF6. El sistema debe mostrar el nivel actual del agua en porcentaje o litros.

RF7. El sistema debe graficar el historial de niveles de agua.

RF8. El sistema debe emitir alertas visuales si:

El nivel de agua es bajo (<20%).

Se detecta una fuga (descenso anormal del nivel o presi√≥n irregular).

2.3 Gesti√≥n de reportes de fugas

RF9. El sistema debe permitir registrar reportes de fugas manuales (por un usuario).

RF10. El sistema debe poder crear reportes autom√°ticos si se detecta una fuga seg√∫n los datos del tinaco.

RF11. El sistema debe mostrar una lista de reportes con estado (pendiente, resuelto).

RF12. El sistema debe permitir marcar un reporte como resuelto.

2.4 Dashboard de administraci√≥n

RF13. El sistema debe ofrecer un panel de control con resumen general, mostrando:

Nivel actual del tinaco.

N√∫mero total de reportes.

N√∫mero de reportes activos.

√öltima actualizaci√≥n recibida.

RF14. El dashboard debe actualizarse din√°micamente (sin recargar la p√°gina).

RF15. El dashboard debe ser responsive y visualmente limpio (TailwindCSS).

üóÉÔ∏è 3. Requerimientos no funcionales (c√≥mo debe comportarse el sistema)
Categor√≠a	Requerimiento
Rendimiento	El sistema debe responder a cada solicitud en menos de 1 segundo.
Seguridad	Las contrase√±as deben almacenarse con hash (bcrypt).
Autenticaci√≥n	El acceso a rutas privadas debe requerir un token JWT v√°lido.
Escalabilidad	La API debe soportar m√∫ltiples sensores y usuarios concurrentes.
Usabilidad	La interfaz debe ser intuitiva, moderna y f√°cil de navegar.
Disponibilidad	El sistema debe poder ejecutarse en un entorno local o en la nube (ej. Render, Vercel, Atlas).
Integraci√≥n	La API debe permitir el env√≠o de datos mediante solicitudes HTTP (desde ESP32 o simulador).
Compatibilidad	El dashboard debe funcionar correctamente en Chrome, Edge y Firefox.
üß© 4. Requerimientos t√©cnicos
Componente	Descripci√≥n
Lenguaje principal	JavaScript (ECMAScript 6+)
Backend	Node.js con Express
Base de datos	MongoDB (MongoDB Atlas o local)
Frontend	Angular (SPA)
Estilos	TailwindCSS
Autenticaci√≥n	JWT + bcrypt
Conexi√≥n con sensores	API REST mediante POST /api/tank/data
Gr√°ficas	Librer√≠a Chart.js o amCharts
Control de estado (Angular)	Signals o Services
Gesti√≥n de entornos	Variables en archivo .env
Servidor	Render o Railway (para despliegue gratuito)
üß† 5. Casos de uso (resumen)
Actor	Caso de uso	Descripci√≥n
Usuario	Iniciar sesi√≥n	Acceder al dashboard con su cuenta.
Usuario	Registrar fuga	Reportar manualmente una fuga detectada.
Sistema	Registrar datos del tinaco	Guardar autom√°ticamente los datos enviados por sensores.
Sistema	Detectar fuga autom√°tica	Analizar datos y crear un reporte si hay variaci√≥n brusca.
Usuario	Consultar nivel actual	Ver el nivel de agua y consumo hist√≥rico.
Usuario	Resolver reporte	Cambiar el estado de un reporte de ‚Äúpendiente‚Äù a ‚Äúresuelto‚Äù.
üí° 6. Requerimientos futuros (opcional / escalable)

Integrar notificaciones push o por correo cuando haya fugas.

Agregar control remoto de v√°lvulas o bombas desde el dashboard.

Implementar conexi√≥n en tiempo real con WebSockets.

Incluir modo ‚Äúoffline‚Äù en la app web.

Anal√≠tica avanzada (promedios, tendencias de consumo, predicciones).